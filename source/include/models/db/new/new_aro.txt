abstract class ActiveRecordObject {

	// Finder
	static public function finder( db_generic $db = null );

	static public setDbObject( db_generic $db );


	// Static properties
	static public $_db; // for all extensions

	static public $_table; // per extension 'type'
	static public $_pk; // per extension 'type'

	// Object properties
	public $db;


	// Semi-static
	public function insert( $data );

	public function replace( $data );

	public function updateMany( $data, $conditions );

	public function deleteMany( $conditions );


	protected function __construct( $data );

	public function findOne( $conditions );

	public function findMany( $conditions );

	public function byPK( $pk, $more_conditions );
	public function get( $pk, $more_conditions );

	public function findFirst( $conditions ); 


	// Object methods
	protected function delete();

	protected function fill( $data );

	protected function init(); // executed after fill()

	public function getDbObject(); // returns $this->db or self::$_db;

}